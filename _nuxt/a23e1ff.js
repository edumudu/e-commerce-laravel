(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{422:function(e,t,r){"use strict";r(17),r(31);var n=r(4);t.a={data:function(){return{data:{name:""},sending:!1}},methods:{onSubmit:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.$nuxt.$loading.start(),e.sending=!0,t.prev=2,t.next=5,e.$axios.$post(e.route,e.data);case 5:e.$toast.success("Successful created! ".concat(e.data.name)),e.data={},e.$nextTick((function(){e.$refs.form.reset()})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),e.$toast.error((null===t.t0||void 0===t.t0||null===(r=t.t0.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||"Something wet wrong, try again later.");case 13:e.$nuxt.$loading.finish(),e.sending=!1;case 15:case"end":return t.stop()}}),t,null,[[2,10]])})))()}}}},476:function(e,t,r){"use strict";r.r(t);r(17),r(31);var n=r(4),o=r(7),c=r(422),l={layout:"dashboard",transition:"slide-up",components:{ValidationObserver:o.a,ValidationProvider:o.b},mixins:[c.a],data:function(){return{data:{name:"",inventory:"",price:"",genre:"",categories:[],photos:[]},sending:!1,genres:[],categories:[]}},mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$get("/genre");case 2:return r=t.sent,t.next=5,e.$axios.$get("/category");case 5:n=t.sent,e.genres=r.data,e.categories=n.data;case 8:case"end":return t.stop()}}),t)})))()},methods:{onSubmit:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.$nuxt.$loading.start(),e.sending=!0,(r=new FormData(e.$refs.formData)).delete("photos[]"),e.data.photos.forEach((function(e){r.append("photos[]",e)})),t.prev=5,t.next=8,e.$axios.$post("/product",r,{headers:{"Content-Type":"multipart/form-data"}});case 8:e.$toast.success("Successful created ".concat(e.data.name)),e.data={name:"",inventory:"",price:"",genre:"",categories:[],photos:[]},e.$nextTick((function(){e.$refs.form.reset()})),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),e.$toast.error(t.t0.response.data.message);case 16:e.$nuxt.$loading.finish(),e.sending=!1;case 18:case"end":return t.stop()}}),t,null,[[5,13]])})))()}},head:function(){return{title:"Create new Product | Dashboard ".concat(void 0)}}},d=r(3),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"page-content"},[r("div",{staticClass:"card float-title"},[r("h1",{staticClass:"card-title"},[e._v("\n      Cadastrar novo produdo\n    ")]),e._v(" "),r("validation-observer",{ref:"form",scopedSlots:e._u([{key:"default",fn:function(t){var n=t.invalid,o=t.handleSubmit;return[r("form",{ref:"formData",on:{submit:function(t){return t.preventDefault(),o(e.onSubmit)}}},[r("div",{staticClass:"row"},[r("div",{staticClass:"form-group col-12 col-md-10"},[r("validation-provider",{attrs:{rules:"required|alpha_spaces|max:255"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors,o=t.valid;return[r("base-input",{attrs:{placeholder:"Nome",name:"name",error:n[0],"is-valid":o},model:{value:e.data.name,callback:function(t){e.$set(e.data,"name",t)},expression:"data.name"}})]}}],null,!0)})],1),e._v(" "),r("div",{staticClass:"form-group col-12 col-md-2"},[r("validation-provider",{attrs:{rules:"required|numeric|min:1"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors,o=t.valid;return[r("base-input",{directives:[{name:"mask",rawName:"v-mask",value:"####",expression:"'####'"}],attrs:{placeholder:"Estoque",name:"inventory",error:n[0],"is-valid":o},model:{value:e.data.inventory,callback:function(t){e.$set(e.data,"inventory",e._n(t))},expression:"data.inventory"}})]}}],null,!0)})],1),e._v(" "),r("div",{staticClass:"form-group col-12 col-md-4"},[r("validation-provider",{attrs:{rules:"required|decimals:2|min:1"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors,o=t.valid;return[r("base-input",{attrs:{placeholder:"Preço",name:"price",error:n[0],"is-valid":o},model:{value:e.data.price,callback:function(t){e.$set(e.data,"price",t)},expression:"data.price"}})]}}],null,!0)})],1),e._v(" "),r("div",{staticClass:"form-group col-12 col-md-4"},[r("validation-provider",{attrs:{rules:"required|numeric|min:1"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors,o=t.valid;return[r("base-select",{attrs:{placeholder:"Gênero",name:"genre",options:e.genres,error:n[0],"is-valid":o},model:{value:e.data.genre,callback:function(t){e.$set(e.data,"genre",t)},expression:"data.genre"}})]}}],null,!0)})],1),e._v(" "),r("div",{staticClass:"form-group col-12 col-md-4"},[r("validation-provider",{attrs:{rules:"required|numeric|min:1"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors,o=t.valid;return[r("base-select",{attrs:{placeholder:"Categoria",name:"categories[]",multiple:"",options:e.categories,error:n[0],"is-valid":o},model:{value:e.data.categories,callback:function(t){e.$set(e.data,"categories",t)},expression:"data.categories"}})]}}],null,!0)})],1),e._v(" "),r("div",{staticClass:"form-group col-12"},[r("validation-provider",{attrs:{rules:"image"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors,o=t.valid;return[r("base-file-input",{attrs:{placeholder:"Photos",name:"photos[]",multiple:"",error:n[0],"is-valid":o},on:{input:function(t){e.data.photos=t}}})]}}],null,!0)})],1),e._v(" "),r("div",{staticClass:"form-group col-12"},[r("button",{staticClass:"btn-press btn-large",attrs:{type:"submit",disabled:e.sending||n}},[e._v("\n              Cadastrar\n            ")])])])])]}}])})],1)])}),[],!1,null,null,null);t.default=component.exports}}]);